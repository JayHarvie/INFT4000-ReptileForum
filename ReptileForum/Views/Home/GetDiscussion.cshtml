@model ReptileForum.Models.Discussion

@{
    ViewData["Title"] = Model.Title;
}

<div class="container">
    <h2>@Model.Title</h2>
    <p><strong>Created on:</strong> @Model.CreateDate.ToString("yyyy-MM-dd HH:mm")</p>

    <!-- Display Image -->
    @if (!string.IsNullOrEmpty(Model.ImageFilename))
    {
        <img src="~/Images/@Model.ImageFilename" alt="Discussion Image" class="img-fluid mb-3" style="max-width: 400px; border-radius: 5px;" />
    }

    <p>@Model.Content</p>

    <!-- Link to Create a New Comment -->
    <a asp-action="Create" asp-controller="Comments" asp-route-discussionId="@Model.DiscussionId" class="btn btn-primary mb-3">
        ➕ Add a Comment
    </a>

    <h4>Comments (💬 @Model.Comments.Count)</h4>
    <ul class="list-group">
        @foreach (var comment in Model.Comments)
        {
            <li class="list-group-item">
                <p>@comment.Content</p>
                <small class="text-muted">Posted on @comment.CreateDate.ToString("yyyy-MM-dd HH:mm")</small>
            </li>
        }
    </ul>

    <br />
    <a asp-action="Index" asp-controller="Home" class="btn btn-secondary">Back to Discussions</a>
</div>
